/**
 * @license Hyphenopoly_Loader 3.1.2 - client side hyphenation
 * ©2019  Mathias Nater, Zürich (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
!function(e,n,t,s){"use strict";function a(){return s.create(null)}function o(e,n){s.keys(e).forEach(n)}function i(e,s){const a=n.createElement("script");a.src=e+s,"hyphenEngine.asm.js"===s&&a.addEventListener("load",function(){t.events.dispatch("engineLoaded",{msg:"asm"})}),n.head.appendChild(a)}function r(n,s,a,o){u.has(s)?"hyphenEngine"!==a&&u.get(s).push(o):(u.set(s,[o]),t.cf.wasm?function(n,s,a,o){e.fetch(n+s).then(function(e){if(e.ok)if("hyphenEngine"===a)t.bins.set(a,e.arrayBuffer().then(function(e){return new p.Module(e)})),t.events.dispatch("engineLoaded",{msg:o});else{const n=u.get(s);n.forEach(function(s){t.bins.set(s,n.length>1?e.clone().arrayBuffer():e.arrayBuffer()),t.events.dispatch("hpbLoaded",{msg:s})})}else t.events.dispatch("loadError",{file:s,msg:o,name:a,path:n})})}(n,s,a,o):function(e,n,s,a){const o=new XMLHttpRequest;o.onload=function(){200===o.status?u.get(n).forEach(function(e){t.bins.set(e,o.response),t.events.dispatch("hpbLoaded",{msg:e})}):t.events.dispatch("loadError",{file:n,msg:a,name:s,path:e})},o.open("GET",e+n),o.responseType="arraybuffer",o.send()}(n,s,a,o))}function c(){t.setup.hide.match(/^(?:element|text)$/)&&t.toggle("off"),t.events.dispatch("contentLoaded",{msg:["contentLoaded"]})}const l=sessionStorage,p=e.WebAssembly,d=new Map,h=new Map;t.cacheFeatureTests&&l.getItem("Hyphenopoly_Loader")?t.cf=JSON.parse(l.getItem("Hyphenopoly_Loader")):t.cf={langs:a(),polyfill:!1,wasm:null},function(){const e=n.currentScript?n.currentScript.src.replace(/Hyphenopoly_Loader.js/i,""):"../",a=e+"patterns/";t.paths?(t.paths.maindir=t.paths.maindir||e,t.paths.patterndir=t.paths.patterndir||a):t.paths=s.create({maindir:e,patterndir:a})}(),t.setup?(t.setup.selectors=t.setup.selectors||{".hyphenate":{}},t.setup.timeout=t.setup.timeout||1e3,t.setup.hide=t.setup.hide||"all"):t.setup={hide:"all",selectors:{".hyphenate":{}},timeout:1e3},o(t.require,function(e){h.set(e.toLowerCase(),t.require[e])}),t.fallbacks&&o(t.fallbacks,function(e){d.set(e.toLowerCase(),t.fallbacks[e].toLowerCase())}),t.toggle=function(e){if("on"===e){const e=n.getElementById("H9Y_Styles");e&&e.parentNode.removeChild(e)}else{const e=" {visibility: hidden !important}\n",s=n.createElement("style");let a="";switch(s.id="H9Y_Styles",t.setup.hide){case"all":a="html"+e;break;case"element":o(t.setup.selectors,function(n){a+=n+e});break;case"text":o(t.setup.selectors,function(e){a+=e+" {color: transparent !important}\n"});break;default:a=""}s.appendChild(n.createTextNode(a)),n.head.appendChild(s)}},function(){function n(e,n,t){i.set(e,{cancellable:t,default:n,register:[]})}function s(e,n,s){i.has(e)?i.get(e).register.push(n):s?c.push({handler:n,name:e}):t.events.dispatch("error",{lvl:"warn",msg:'unknown Event "'+e+'" discarded'})}const i=new Map,r=[],c=[];n("timeout",function(n){t.toggle("on"),e.console.info("Hyphenopolys 'FOUHC'-prevention timed out after %dms",n.delay)},!1),n("error",function(n){switch(n.lvl){case"info":e.console.info(n.msg);break;case"warn":e.console.warn(n.msg);break;default:e.console.error(n.msg)}},!0),n("contentLoaded",function(e){r.push({data:e,name:"contentLoaded"})},!1),n("engineLoaded",function(e){r.push({data:e,name:"engineLoaded"})},!1),n("hpbLoaded",function(e){r.push({data:e,name:"hpbLoaded"})},!1),n("loadError",function(e){r.push({data:e,name:"loadError"})},!1),n("tearDown",null,!0),t.handleEvent&&o(t.handleEvent,function(e){s(e,t.handleEvent[e],!0)}),t.events=a(),t.events.deferred=r,t.events.tempRegister=c,t.events.dispatch=function(e,n){n=n||a();let t=!1;i.get(e).register.forEach(function(s){n.preventDefault=function(){i.get(e).cancellable&&(t=!0)},s(n)}),!t&&i.get(e).default&&i.get(e).default(n)},t.events.define=n,t.events.addListener=s}();const u=new Map;!function(){function s(e){let n=e+".hpb",s=e;t.cf.polyfill=!0,t.cf.langs[e]="H9Y",d&&d.has(e)&&(n=(s=d.get(e))+".hpb"),t.bins=t.bins||new Map,r(t.paths.patterndir,n,s,e)}const c=function(){let e=null;const s=["visibility:hidden;","-moz-hyphens:auto;","-webkit-hyphens:auto;","-ms-hyphens:auto;","hyphens:auto;","width:48px;","font-size:12px;","line-height:12px;","border:none;","padding:0;","word-wrap:normal"].join("");return{append:function(n){return e?(n.appendChild(e),e):null},clear:function(){e&&e.parentNode.removeChild(e)},create:function(a){if(t.cf.langs[a])return;e=e||n.createElement("body");const o=n.createElement("div");o.lang=a,o.style.cssText=s,o.appendChild(n.createTextNode(h.get(a))),e.appendChild(o)}}}();null===t.cf.wasm&&(t.cf.wasm=function(){if("object"==typeof p&&"function"==typeof p.Instance){const e=new p.Module(Uint8Array.from([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]));return 0!==new p.Instance(e).exports.test(4)}return!1}()),h.forEach(function(e,n){"FORCEHYPHENOPOLY"===e||t.cf.langs[n]&&"H9Y"===t.cf.langs[n]?s(n):c.create(n)});const l=c.append(n.documentElement);if(null!==l){const e=l.getElementsByTagName("div");o(e,function(n){(function(e){return"auto"===e.style.hyphens||"auto"===e.style.webkitHyphens||"auto"===e.style.msHyphens||"auto"===e.style["-moz-hyphens"]})(e[n])&&e[n].offsetHeight>12?t.cf.langs[e[n].lang]="CSS":s(e[n].lang)}),c.clear()}t.cf.polyfill&&(i(t.paths.maindir,"Hyphenopoly.js"),t.cf.wasm?r(t.paths.maindir,"hyphenEngine.wasm","hyphenEngine","wasm"):i(t.paths.maindir,"hyphenEngine.asm.js"),o(t.cf.langs,function(n){"H9Y"===t.cf.langs[n]&&(function(e){const n=new Map([["de",54],["hu",205],["nb-no",91],["nl",41]]).get(e)||32;if(t.specMems=t.specMems||new Map,t.cf.wasm)t.specMems.set(e,new p.Memory({initial:n,maximum:256}));else{const s=2<<Math.floor(Math.log(n)*Math.LOG2E)<<16;t.specMems.set(e,new ArrayBuffer(s))}}(n),function(n){t.hyphenators=t.hyphenators||a(),t.hyphenators[n]||(e.Promise?(t.hyphenators[n]=new Promise(function(e,s){t.events.addListener("engineReady",function(s){s.msg===n&&e(t.createHyphenator(s.msg))},!0),t.events.addListener("loadError",function(e){e.name!==n&&"hyphenEngine"!==e.name||s(new Error("File "+e.file+" can't be loaded from "+e.path))},!1)}),t.hyphenators[n].catch(function(e){t.events.dispatch("error",{lvl:"error",msg:e.message})})):t.hyphenators[n]={then:function(){t.events.dispatch("error",{msg:"Promises not supported in this engine. Use a polyfill."})}})}(n))}))}(),t.cf.polyfill?("all"===t.setup.hide&&t.toggle("off"),"none"!==t.setup.hide&&(t.setup.timeOutHandler=e.setTimeout(function(){t.toggle("on"),t.events.dispatch("timeout",{delay:t.setup.timeout})},t.setup.timeout)),"loading"===n.readyState?n.addEventListener("DOMContentLoaded",c,{once:!0,passive:!0}):c()):(t.events.dispatch("tearDown",{}),e.Hyphenopoly=null),t.cacheFeatureTests&&l.setItem("Hyphenopoly_Loader",JSON.stringify(t.cf))}(window,document,Hyphenopoly,Object);